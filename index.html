<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>GeoGuessr gratuit</title>
  <style>
    body { margin: 0; }
    iframe { width: 100vw; height: 100vh; border: none; }
  </style>
</head>
<body>

<select id="city-select">
  <option value="48.8566,2.3522">Paris</option>
  <option value="45.7640,4.8357">Lyon</option>
  <option value="43.2965,5.3698">Marseille</option>
  <option value="48.5734,7.7521">Strasbourg</option>
</select>

<button onclick="newPosition()">Nouvelle position</button>

<iframe id="viewer"></iframe>

<script>
function randomPos(bounds) {
  const lat = Math.random() * (bounds.n - bounds.s) + bounds.s;
  const lng = Math.random() * (bounds.e - bounds.w) + bounds.w;
  return `${lat},${lng}`;
}

const bounds = {
  paris: { n:48.9020, s:48.8156, e:2.4699, w:2.2257 },
  lyon: { n:45.8357, s:45.7076, e:4.9446, w:4.7681 },
  marseille:{ n:43.3947, s:43.2085, e:5.5320, w:5.2130 },
  strasbourg:{ n:48.646, s:48.519, e:7.828, w:7.664 }
};

function newPosition() {
  const city = document.getElementById("city-select").selectedOptions[0].text.toLowerCase();
  const pos = randomPos(bounds[city]);
  
  document.getElementById("viewer").src = 
    `https://www.google.com/maps/embed?pb=!4v!6m8!1m3!1d1!2d${pos.split(",")[1]}!3d${pos.split(",")[0]}!3m2!1i1024!2i768!4f0`;
}
</script>

</body>
</html>
